<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="utf-8" />
  <title>Import CSV file </title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" rel="stylesheet">
  <link href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap4.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
  <script src = "js/barChart.js"></script>
  <script src="js/csvToTable.js"></script>
  <script src="js/aggreate.js"></script>
</head>

<body>
  <div class="container">
    <h3>Upload a CSV file </h3>
    <div class="mb-3">
      <input class="form-control" type="file" id="fileUpload" style="width:47%;">
    </div>
    <button type="button" class="btn btn-outline-primary" title="upload a file" onclick="upload();" style="margin-left: 48%;  margin-top: -99px;">Upload</button>
    <br>
    <br>
    <div class="input-group" id="sbox" style="width: 187px;left: 85%;display:none;">
      <input class="form-control bg-light border-0" id="stext" type="text" placeholder="Search..." aria-label="Search" aria-describedby="search-addon">
      <button type="button" class="btn btn-primary rounded-pill" onclick="Search();">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
          <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
        </svg></button>
    </div>
    <br>
    <table id="csvtable" class="table table-striped table-bordered" style="width:100%"></table>
    <br>
    <br>
    <div class="aggSearch" style="display:none;">
      <input type="text" class="form-control" id="sname" placeholder="Type a name " title="Type a name" style="width: 159px;">
      <button type="button" class="btn btn-primary mb-3" onclick="aggregateByName();" style="margin-left: 171px;margin-top: -50px;">Aggregate</button>
    </div>
    <br>
    <br>
    <div class="aggTable" style="display:none;">
      <h4 style="text-align:center;">Aggregate Table</h4>
      <table class="table table-bordered table-striped" id="aggregateTable"></table>
    </div>
    <br>
    <br>
    <div class="aggMetrics"style="display:none;">
      <h4 style="text-align:center;">Aggregate Table Chart</h4>
      <canvas id="myChart" style="width:100%;max-width:600px"></canvas>
    </div>
  </div>
</body>

</html>
